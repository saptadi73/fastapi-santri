{
  "metadata": {
    "metode": "pesantren_kemiskinan_v1",
    "version": "1.0.0",
    "description": "Scoring kemiskinan santri berbasis rule dan bobot",
    "skor_maks_total": 100
  },

  "kategori_kemiskinan": [
    { "min": 80, "label": "Sangat Miskin" },
    { "min": 65, "label": "Miskin" },
    { "min": 45, "label": "Rentan" },
    { "min": 0,  "label": "Tidak Miskin" }
  ],

  "dimensi": {
    "ekonomi": {
      "bobot": 0.30,
      "skor_maks": 40,
      "parameters": [
        {
          "kode": "pendapatan_bulanan",
          "sumber": "santri_orangtua",
          "rules": [
            { "operator": "<",  "value": 500000,  "skor": 30 },
            { "operator": "<",  "value": 1000000, "skor": 25 },
            { "operator": "<",  "value": 2000000, "skor": 15 },
            { "operator": ">=", "value": 2000000, "skor": 5 }
          ]
        },
        {
          "kode": "pekerjaan",
          "sumber": "santri_orangtua",
          "rules": [
            { "operator": "in", "value": ["buruh", "petani", "nelayan"], "skor": 5 },
            { "operator": "in", "value": ["pedagang", "wiraswasta"], "skor": 3 },
            { "operator": "in", "value": ["PNS", "pegawai_tetap"], "skor": 1 }
          ]
        },
        {
          "kode": "pendidikan",
          "sumber": "santri_orangtua",
          "rules": [
            { "operator": "in", "value": ["SD", "tidak_sekolah"], "skor": 5 },
            { "operator": "in", "value": ["SMP"], "skor": 3 },
            { "operator": "in", "value": ["SMA", "D3", "S1"], "skor": 1 }
          ]
        }
      ]
    },

    "rumah": {
      "bobot": 0.25,
      "skor_maks": 43,
      "parameters": [
        {
          "kode": "status_rumah",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "menumpang", "skor": 10 },
            { "operator": "==", "value": "kontrak",   "skor": 7 },
            { "operator": "==", "value": "milik_sendiri", "skor": 2 }
          ]
        },
        {
          "kode": "jenis_lantai",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "tanah",   "skor": 10 },
            { "operator": "==", "value": "semen",   "skor": 5 },
            { "operator": "==", "value": "keramik", "skor": 1 }
          ]
        },
        {
          "kode": "jenis_dinding",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "bambu", "skor": 8 },
            { "operator": "==", "value": "kayu",  "skor": 5 },
            { "operator": "==", "value": "tembok", "skor": 1 }
          ]
        },
        {
          "kode": "jenis_atap",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "rumbia",  "skor": 8 },
            { "operator": "==", "value": "seng",    "skor": 5 },
            { "operator": "in", "value": ["genteng", "beton"], "skor": 1 }
          ]
        },
        {
          "kode": "akses_air_bersih",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "tidak_layak", "skor": 8 },
            { "operator": "==", "value": "layak",       "skor": 1 }
          ]
        },
        {
          "kode": "daya_listrik_va",
          "sumber": "santri_rumah",
          "rules": [
            { "operator": "==", "value": "450",  "skor": 8 },
            { "operator": "==", "value": "900",  "skor": 5 },
            { "operator": "==", "value": "1300", "skor": 3 },
            { "operator": "in", "value": ["2200", "3500", "5500"], "skor": 1 }
          ]
        }
      ]
    },

    "aset": {
      "bobot": 0.15,
      "skor_maks": 23,
      "parameters": [
        {
          "kode": "motor",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 8 },
            { "operator": "==", "value": 1, "skor": 4 },
            { "operator": ">=", "value": 2, "skor": 1 }
          ]
        },
        {
          "kode": "mobil",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 5 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "lahan",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 5 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "hp",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 5 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "ternak",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 4 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "sepeda",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 4 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "laptop",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 3 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "alat_kerja",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 3 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        },
        {
          "kode": "lainnya",
          "sumber": "santri_asset",
          "rules": [
            { "operator": "==", "value": 0, "skor": 2 },
            { "operator": ">=", "value": 1, "skor": 1 }
          ]
        }
      ]
    },

    "pembiayaan": {
      "bobot": 0.15,
      "skor_maks": 25,
      "parameters": [
        {
          "kode": "sumber_biaya",
          "sumber": "santri_pembiayaan",
          "rules": [
            { "operator": "==", "value": "donatur",   "skor": 10 },
            { "operator": "==", "value": "beasiswa",  "skor": 8 },
            { "operator": "==", "value": "wali",      "skor": 5 },
            { "operator": "==", "value": "orang_tua", "skor": 2 }
          ]
        },
        {
          "kode": "status_pembayaran",
          "sumber": "santri_pembiayaan",
          "rules": [
            { "operator": "==", "value": "menunggak",  "skor": 10 },
            { "operator": "==", "value": "terlambat",  "skor": 5 },
            { "operator": "==", "value": "lancar",     "skor": 0 },
            { "operator": "is_null", "value": null,     "skor": 3 }
          ]
        },
        {
          "kode": "tunggakan_bulan",
          "sumber": "santri_pembiayaan",
          "rules": [
            { "operator": ">=", "value": 3, "skor": 5 },
            { "operator": ">=", "value": 1, "skor": 3 },
            { "operator": "==", "value": 0, "skor": 0 },
            { "operator": "is_null", "value": null, "skor": 2 }
          ]
        }
      ]
    },

    "kesehatan": {
      "bobot": 0.10,
      "skor_maks": 25,
      "parameters": [
        {
          "kode": "status_gizi",
          "sumber": "santri_kesehatan",
          "rules": [
            { "operator": "==", "value": "kurang", "skor": 10 },
            { "operator": "==", "value": "lebih",  "skor": 5 },
            { "operator": "==", "value": "baik",   "skor": 0 }
          ]
        },
        {
          "kode": "riwayat_penyakit",
          "sumber": "santri_kesehatan",
          "rules": [
            { "operator": "not_empty", "skor": 8 },
            { "operator": "empty",     "skor": 0 }
          ]
        },
        {
          "kode": "kebutuhan_khusus",
          "sumber": "santri_kesehatan",
          "rules": [
            { "operator": "not_empty", "skor": 7 },
            { "operator": "empty",     "skor": 0 }
          ]
        }
      ]
    },

    "bansos": {
      "bobot": 0.05,
      "skor_maks": 17,
      "parameters": [
        {
          "kode": "pkh",
          "sumber": "santri_bansos",
          "rules": [
            { "operator": "==", "value": false, "skor": 4 },
            { "operator": "==", "value": true,  "skor": 0 }
          ]
        },
        {
          "kode": "bpnt",
          "sumber": "santri_bansos",
          "rules": [
            { "operator": "==", "value": false, "skor": 3 },
            { "operator": "==", "value": true,  "skor": 0 }
          ]
        },
        {
          "kode": "pip",
          "sumber": "santri_bansos",
          "rules": [
            { "operator": "==", "value": false, "skor": 4 },
            { "operator": "==", "value": true,  "skor": 0 }
          ]
        },
        {
          "kode": "kis_pbi",
          "sumber": "santri_bansos",
          "rules": [
            { "operator": "==", "value": false, "skor": 3 },
            { "operator": "==", "value": true,  "skor": 0 }
          ]
        },
        {
          "kode": "blt_desa",
          "sumber": "santri_bansos",
          "rules": [
            { "operator": "==", "value": false, "skor": 3 },
            { "operator": "==", "value": true,  "skor": 0 }
          ]
        }
      ]
    }
  }
}
